<?xml version="1.0" encoding="iso-8859-1"?>
<root>

	<windowclass name="charsheet_spells">
		<placement>
			<size>
				<width>252</width>
				<height>611</height>
			</size>
		</placement>
		<nodelete />
		<sheetdata>

<!--Willforce--><!--{{{-->
			<genericcontrol name="willforceframe">
				<bounds>375,10,120,45</bounds>
				<frame>
					<name>sheetgroup</name>
				</frame>
			</genericcontrol>

			<stringcontrol name="wflabel">
				<anchored>
					<to>willforceframe</to>
					<position>insidetopleft</position>
					<offset>10,15</offset>
				</anchored>
				<font>titlefont</font>
				<static>Willforce:</static>
			</stringcontrol>

<!--
			<stringcontrol>
				<anchored>
					<to>willforceframe</to>
					<position>insidetopleft</position>
					<offset>78,6</offset>
				</anchored>
				<font>sheetlabelsmall</font>
				<static>Rank:</static>
			</stringcontrol>
-->

			<numberfield name="wfstepbase" source="willforce.step.base">
				<bounds>420,18,30,30</bounds>
				<font>sheetnumber</font>
				<readonly />
				<invisible />
			</numberfield>


			<stepcontrol_mod_ns name="wfstep" source="willforce.step.total">
				<bounds>450,18,30,29</bounds>
				<frame>
					<name>modifier</name>
					<offset>3,3,3,3</offset>
				</frame>
				<font>sheetnumber</font>
				<source>
					<name>attributes.willpower.step</name>
					<op>+</op>
				</source>
				<source>
					<name>willforce.step.base</name>
					<op>+</op>
				</source>
				<description>Willforce</description>
				<modifierfield>willforce.step.temp</modifierfield>
				<readonly />
				<script>
					function onHover(state)
						if state then
							diestring = "";
							dice = {};
							mod = 0;
							dice, mod = Step.getStepDice(getValue());
							for i=1,table.maxn(dice) do
								diestring = diestring .. dice[i] .. "+";
							end
							if mod &lt; 0 then
								diestring = string.sub(diestring,1,string.len(diestring)-1) .. mod;
							else
								diestring = string.sub(diestring,1,string.len(diestring)-1);
							end
							dieWidget.setPosition("left", -20, 0);
							dieWidget.setText(diestring);
							dieWidget.setVisible(true);
							setColor("#FF228822");
							setFrame("sheetfocus", 3, 3, 3, 3);
						else
							if hasFocus() == false then
								setColor(nil);
								setFrame("modifier", 3, 3, 3, 3);
							end
							dieWidget.setVisible(false);
						end
					end
					function onWheel()
						return false;
					end
				</script>
			</stepcontrol_mod_ns>		<!--}}}-->


<!-- SPELLS --><!--{{{-->
			<genericcontrol name="spellframe">
				<bounds>15,50,480,380</bounds>
				<frame>
					<name>sheetgroup</name>
				</frame>
			</genericcontrol>
			<stringcontrol name="spelllabel">
				<anchored>
					<to>spellframe</to>
					<position>above</position>
					<offset>-216,-8</offset>
				</anchored>
				<frame>
					<name>modifier</name>
				<offset>3,5,3,5</offset>
				</frame>
				<font>titlefont</font>
				<static>Spells</static>
				<center />
			</stringcontrol>
			
			<stringcontrol>
				<anchored>
					<to>spellframe</to>
					<position>insidetopleft</position>
					<offset>10,12</offset>
				</anchored>
				<font>sheetlabelsmall</font>
				<static>Circle:</static>
			</stringcontrol>
			
			<stringcontrol>
				<anchored>
					<to>spellframe</to>
					<position>insidetopleft</position>
					<offset>40,12</offset>
				</anchored>
				<font>sheetlabelsmall</font>
				<static>Name:</static>
			</stringcontrol>
			
			<stringcontrol>
				<anchored>
					<to>spellframe</to>
					<position>insidetopleft</position>
					<offset>150,12</offset>
				</anchored>
				<font>sheetlabelsmall</font>
				<static># Thr:</static>
			</stringcontrol>
			
			<stringcontrol>
				<anchored>
					<to>spellframe</to>
					<position>insidetopleft</position>
					<offset>187,12</offset>
				</anchored>
				<font>sheetlabelsmall</font>
				<static>Weaving:</static>
			</stringcontrol>

			<stringcontrol>
				<anchored>
					<to>spellframe</to>
					<position>insidetopleft</position>
					<offset>242,12</offset>
				</anchored>
				<font>sheetlabelsmall</font>
				<static>Diff:</static>
			</stringcontrol>
			
			<stringcontrol>
				<anchored>
					<to>spellframe</to>
					<position>insidetopleft</position>
					<offset>275,12</offset>
				</anchored>
				<font>sheetlabelsmall</font>
				<static>Range:</static>
			</stringcontrol>
			
			<stringcontrol>
				<anchored>
					<to>spellframe</to>
					<position>insidetopleft</position>
					<offset>350,12</offset>
				</anchored>
				<font>sheetlabelsmall</font>
				<static>Effect Step:</static>
			</stringcontrol>
			
			<stringcontrol>
				<anchored>
					<to>spellframe</to>
					<position>insidetopleft</position>
					<offset>413,12</offset>
				</anchored>
				<font>sheetlabelsmall</font>
				<static>Full:</static>
			</stringcontrol>
			
			<stringcontrol>
				<anchored>
					<to>spellframe</to>
					<position>insidetopleft</position>
					<offset>437,12</offset>
				</anchored>
				<font>sheetlabelsmall</font>
				<static>Notes:</static>
			</stringcontrol>
			
			<windowlist name="spelllist">
				<bounds>30,75,475,345</bounds>
				<datasource>.spells</datasource>
				<class>spell_listitem</class>
				<allowcreate />
				<allowdelete />
				<skipempty />
<!--
				<acceptdrop>
					<class>refspellfull</class>
					<field>name</field>
					<field>disciplinename</field>
					<field>circle</field>
					<field>casting</field>
					<field>numthreads</field>
					<field>reattune</field>
					<field>weavethread</field>
					<field>duration</field>
					<field>range</field>
					<field>effect</field>
					<field>effecttext</field>
					<field>description</field>
				</acceptdrop>
-->
				<script>
					function onSortCompare(w1, w2)
						local returnValue = false;
												
						local circle1 = tonumber(w1.circle.getValue());
						local circle2 = tonumber(w2.circle.getValue());
						
						if circle1 == nil then
							circle1 = 0;
						end
						if circle2 == nil then
							circle2 = 0;
						end
							
 
						if circle1 == circle2 then
							returnValue = w1.name.getValue() &gt; w2.name.getValue();
						else
							returnValue = circle1 &gt; circle2;
						end
 
						return returnValue;
					end
					function onDrop(x, y, draginfo)
						if draginfo.isType("shortcut") then
							local class, datasource = draginfo.getShortcutData();
							local source = draginfo.getDatabaseNode();

							if source and class == "refspellfull" then
								local newentry = addCustomSpell(source);
							else
								return nil;
							end
							return true;
						end
					end
					function addCustomSpell(source)
						local newentry = createWindow();
						newentry.name.setValue(source.createChild("name", "string").getValue());
						local newnode = newentry.getDatabaseNode();
						newnode.createChild("disciplinename", "string").setValue(source.createChild("disciplinename", "string").getValue());
						newnode.createChild("circle", "number").setValue(source.createChild("circle", "number").getValue());
						newnode.createChild("casting", "number").setValue(source.createChild("casting", "number").getValue());
						newnode.createChild("numthreads", "number").setValue(source.createChild("numthreads", "number").getValue());
						newnode.createChild("reattune", "number").setValue(source.createChild("reattune", "number").getValue());
						newnode.createChild("weavethread", "number").setValue(source.createChild("weavethread", "number").getValue());
						newnode.createChild("duration", "string").setValue(source.createChild("duration", "string").getValue());
						newnode.createChild("range", "string").setValue(source.createChild("range", "string").getValue());
						newnode.createChild("effect", "number").setValue(source.createChild("effect", "number").getValue());
						newnode.createChild("effecttext", "string").setValue(source.createChild("effecttext", "string").getValue());
						newnode.createChild("description", "string").setValue(source.createChild("description", "string").getValue());
					end


				</script>
			</windowlist>
			<scrollercontrol>
				<anchored>
					<to>spelllist</to>
					<position>insidebottomright</position>
					<size>
						<width>45</width>
						<height>27</height>
					</size>
				</anchored>
				<target>spelllist</target>
				<button>
					<normal>button_scroller</normal>
					<pressed>button_scroller_down</pressed>
				</button>
			</scrollercontrol><!--}}}-->

<!-- MATRIX --><!--{{{-->
			<genericcontrol name="matrixframe">
				<bounds>15,430,480,170</bounds>
				<frame>
					<name>sheetgroup</name>
				</frame>
			</genericcontrol>
			
			<stringcontrol name="matrixlabel">
				<anchored>
					<to>matrixframe</to>
					<position>above</position>
					<offset>-206,-8</offset>
				</anchored>
				<frame>
					<name>modifier</name>
				<offset>3,5,3,5</offset>
				</frame>
				<font>titlefont</font>
				<static>Matricies</static>
				<center />
			</stringcontrol>
			<stringcontrol>
				<anchored>
					<to>matrixframe</to>
					<position>insidetopleft</position>
					<offset>15,12</offset>
				</anchored>
				<font>sheetlabelsmall</font>
				<static>Name:</static>
			</stringcontrol>
			
			<stringcontrol>
				<anchored>
					<to>matrixframe</to>
					<position>insidetopleft</position>
					<offset>183,12</offset>
				</anchored>
				<font>sheetlabelsmall</font>
				<static>Rank:</static>
			</stringcontrol>
			<stringcontrol>
				<anchored>
					<to>matrixframe</to>
					<position>insidetopleft</position>
					<offset>215,12</offset>
				</anchored>
				<font>sheetlabelsmall</font>
				<static>Spell:</static>
			</stringcontrol>
			<stringcontrol>
				<anchored>
					<to>matrixframe</to>
					<position>insidetopleft</position>
					<offset>344,12</offset>
				</anchored>
				<font>sheetlabelsmall</font>
				<static>DT:</static>
			</stringcontrol>
			<stringcontrol>
				<anchored>
					<to>matrixframe</to>
					<position>insidetopleft</position>
					<offset>364,12</offset>
				</anchored>
				<font>sheetlabelsmall</font>
				<static>DR:</static>
			</stringcontrol>
			<stringcontrol>
				<anchored>
					<to>matrixframe</to>
					<position>insidetopleft</position>
					<offset>384,12</offset>
				</anchored>
				<font>sheetlabelsmall</font>
				<static>MA:</static>
			</stringcontrol>
			<stringcontrol>
				<anchored>
					<to>matrixframe</to>
					<position>insidetopleft</position>
					<offset>413,12</offset>
				</anchored>
				<font>sheetlabelsmall</font>
				<static>Full:</static>
			</stringcontrol>
			
			<stringcontrol>
				<anchored>
					<to>matrixframe</to>
					<position>insidetopleft</position>
					<offset>437,12</offset>
				</anchored>
				<font>sheetlabelsmall</font>
				<static>Notes:</static>
			</stringcontrol>
			
			<windowlist name="matrixslist">
				<bounds>30,455,475,135</bounds>
				<datasource>.matrixs</datasource>
				<class>matrix_listitem</class>
				<allowcreate />
				<allowdelete />
				<skipempty />
				<script>
					function onSortCompare(w1, w2)
						local returnValue = false;
						if w1.name.getValue() == "" then
							return true;
						elseif w2.name.getValue() == "" then
							return false;
						end
						
						returnValue = w1.name.getValue() &gt; w2.name.getValue();
						return returnValue;
					end
				</script>
			</windowlist>
			<scrollercontrol>
				<anchored>
					<to>matrixslist</to>
					<position>insidebottomright</position>
					<size>
						<width>45</width>
						<height>27</height>
					</size>
				</anchored>
				<target>matrixslist</target>
				<button>
					<normal>button_scroller</normal>
					<pressed>button_scroller_down</pressed>
				</button>
			</scrollercontrol>
<!--}}}-->


		</sheetdata>
	</windowclass>
	
<!-- SPELLS LIST ITEM -->	<!--{{{-->
	<windowclass name="spell_listitem">
		<sizelimits>
			<minimum>
				<height>20</height>
			</minimum>
		</sizelimits>
		<sheetdata>
		
			<textlistitemvalue name="circle">
				<anchored>
					<left>
						<anchor>left</anchor>
						<offset>0</offset>
					</left>
					<top>
						<anchor>top</anchor>
						<offset>0</offset>
					</top>
					<size>
						<width>15</width>
					</size>
				</anchored>
				<tabtarget>
					<prev>range</prev>
					<next>name</next>
				</tabtarget>
				<font>sheettextsmall</font>
				<center />
				<script>
					function onLoseFocus()
						super.onLoseFocus();
						window.windowlist.applySort();
					end
				</script>
			</textlistitemvalue>
			
			<textlistitemvalue name="name">
				<anchored>
					<left>
						<anchor>left</anchor>
						<offset>25</offset>
					</left>
					<top>
						<anchor>top</anchor>
						<offset>0</offset>
					</top>
					<size>
						<width>105</width>
					</size>
				</anchored>
				<tabtarget>
					<next>numthreads</next>
					<prev>circle</prev>
				</tabtarget>
				<font>sheettextsmall</font>
				<script>
					function onLoseFocus()
						super.onLoseFocus();
						window.windowlist.applySort();
					end
					function onDoubleClick()
						win = Interface.openWindow("spellfull",window.getDatabaseNode());
					end
				</script>
			</textlistitemvalue>
 			<textlistitemnumber name="numthreads">
				<anchored>
					<left>
						<anchor>left</anchor>
						<offset>138</offset>
					</left>
					<top>
						<anchor>top</anchor>
						<offset>0</offset>
					</top>
					<size>
						<width>25</width>
					</size>
				</anchored>
				<tabtarget>
					<prev>name</prev>
					<next>weavethread</next>
				</tabtarget>
				<font>sheettextsmall</font>
				<center />
			</textlistitemnumber>

 			<textlistitemnumber name="weavethread">
				<anchored>
					<left>
						<anchor>left</anchor>
						<offset>171</offset>
					</left>
					<top>
						<anchor>top</anchor>
						<offset>0</offset>
					</top>
					<size>
						<width>15</width>
					</size>
				</anchored>
				<tabtarget>
					<prev>numthreads</prev>
					<next>reattune</next>
				</tabtarget>
				<font>sheettextsmall</font>
				<center />
			</textlistitemnumber>

			<stringcontrol>
				<anchored>
					<left>
						<anchor>left</anchor>
						<offset>187</offset>
					</left>
					<top>
						<anchor>top</anchor>
						<offset>0</offset>
					</top>
					<size>
						<width>10</width>
					</size>
				</anchored>
				<static>/</static>
				<center />
			</stringcontrol>

 			<textlistitemnumber name="reattune">
				<anchored>
					<left>
						<anchor>left</anchor>
						<offset>197</offset>
					</left>
					<top>
						<anchor>top</anchor>
						<offset>0</offset>
					</top>
					<size>
						<width>15</width>
					</size>
				</anchored>
				<tabtarget>
					<prev>weavethread</prev>
					<next>casting</next>
				</tabtarget>
				<font>sheettextsmall</font>
				<center />
			</textlistitemnumber>
 			<textlistitemvalue name="casting">
				<anchored>
					<left>
						<anchor>left</anchor>
						<offset>220</offset>
					</left>
					<top>
						<anchor>top</anchor>
						<offset>0</offset>
					</top>
					<size>
						<width>35</width>
					</size>
				</anchored>
				<tabtarget>
					<prev>reattune</prev>
					<next>range</next>
				</tabtarget>
				<font>sheettextsmall</font>
				<center />
				<empty>TSD</empty>
			</textlistitemvalue>
 			<textlistitemvalue name="range">
				<anchored>
					<left>
						<anchor>left</anchor>
						<offset>260</offset>
					</left>
					<top>
						<anchor>top</anchor>
						<offset>0</offset>
					</top>
					<size>
						<width>70</width>
					</size>
				</anchored>
				<tabtarget>
					<prev>casting</prev>
					<next>circle</next>
				</tabtarget>
				<font>sheettextsmall</font>
			</textlistitemvalue>
	
			<modifiernumber name="step" source="step.total">
				<anchored>
					<left>
						<anchor>left</anchor>
						<offset>350</offset>
					</left>
					<top>
						<anchor>top</anchor>
						<offset>-1</offset>
					</top>
					<size>
						<width>20</width>
					</size>
				</anchored>
				<frame>
					<name>modifier</name>
					<offset>3,3,3,3</offset>
				</frame>
				<font>sheetnumber</font>
				<readonly />
				<source>
					<name>...willforce.step.total</name>
					<op>+</op>
				</source>
				<source>
					<name>effect</name>
					<op>+</op>
				</source>
				<modifierfield>step.total.temp</modifierfield>
				<modifierloc>right</modifierloc>
				<script file="scripts/statmodifier.lua" />
				<script>
					function onDrag(button,x,y,dragdata)
						dragdata.setType("dice");
						dragdata.setSlot(1);
						dice = {};
						mod = 0;
						dice, mod = Step.getStepDice(getValue());
						dragdata.setDieList(dice);
						
						dragdata.setDescription(window.name.getValue() .. " (Effect Step " .. getValue() .. ")" );
						dragdata.setNumberData(mod);
						
						return true;
					end	

					function onDoubleClick()
						dice = {};
						mod = 0;
						dice, mod = Step.getStepDice(getValue());
						ChatManager.control.throwDice("dice",dice, mod, window.name.getValue() .. " (Effect Step " .. getValue() .. ")");
					end
					function onHover(state)
						if state then
							setColor("#FF228822");
							setFrame("sheetfocus", 3, 3, 3, 3);
							window.setFrame("rowshade");
						else
							if hasFocus() == false then
								setColor(nil);
								setFrame("modifier", 3, 3, 3, 3);
								window.setFrame(nil);
							end
						end
					end
					function onValueChanged()
						updateListBonuses("attacks", window.name.getValue(), "attackbonusonesourcename", "attackbonusonestep");
						updateListBonuses("attacks", window.name.getValue(), "attackbonustwosourcename", "attackbonustwostep");
						updateListBonuses("attacks", window.name.getValue(), "attackbonusthreesourcename", "attackbonusthreestep");
						updateListBonuses("attacks", window.name.getValue(), "attackbonusfoursourcename", "attackbonusfourstep");
						updateListBonuses("attacks", window.name.getValue(), "attackbonusfivesourcename", "attackbonusfivestep");
						updateListBonuses("attacks", window.name.getValue(), "attackbonussixsourcename", "attackbonussixstep");
						updateListBonuses("attacks", window.name.getValue(), "attackbonussevensourcename", "attackbonussevenstep");

						updateListBonuses("attacks", window.name.getValue(), "damagebonusonesourcename", "damagebonusonestep");
						updateListBonuses("attacks", window.name.getValue(), "damagebonustwosourcename", "damagebonustwostep");
						updateListBonuses("attacks", window.name.getValue(), "damagebonusthreesourcename", "damagebonusthreestep");
						updateListBonuses("attacks", window.name.getValue(), "damagebonusfoursourcename", "damagebonusfourstep");
						updateListBonuses("attacks", window.name.getValue(), "damagebonusfivesourcename", "damagebonusfivestep");
						updateListBonuses("attacks", window.name.getValue(), "damagebonussixsourcename", "damagebonussixstep");
						updateListBonuses("attacks", window.name.getValue(), "damagebonussevensourcename", "damagebonussevenstep");
					end

				</script>
			</modifiernumber>



			<buttoncontrol name="fullspell">
				<anchored>
					<left>
						<anchor>left</anchor>
						<offset>398</offset>
					</left>
					<top>
						<anchor>top</anchor>
						<offset>0</offset>
					</top>
					<size>
						<width>20</width>
						<height>20</height>
					</size>
				</anchored>
				<icon>
					<normal>indicator_zoom</normal>
					<hover>indicator_casterprep</hover>
					<pressed>indicator_zoom</pressed>
				</icon> 	
				<script>
					function onButtonPress()
						win = Interface.openWindow("spellfull",window.getDatabaseNode());
					end
					function onHover(state)
						if state then
							window.setFrame("rowshade");
						else
							window.setFrame(nil);
						end
					end
				</script>
			</buttoncontrol>

			<windowreferencefield name="spell_notes_shortcut">
				<anchored>
					<right>
						<anchor>left</anchor>
						<offset>445</offset>
					</right>
					<top>
						<anchor>top</anchor>
						<offset>0</offset>
					</top>
					<size>
						<width>20</width>
						<height>20</height>
					</size>
				</anchored>
				<icon>
					<normal>button_openwindow</normal>
					<empty>button_emptytarget</empty>
					<pressed>button_emptytarget</pressed>
				</icon>
				<allowdrop />
			</windowreferencefield>

				
		</sheetdata>
	</windowclass><!--}}}-->

<!-- MATRIX LIST ITEM --><!--{{{-->
	<windowclass name="matrix_listitem">
		<sizelimits>
			<minimum>
				<height>20</height>
			</minimum>
		</sizelimits>
		<sheetdata>
			<textlistitemvalue name="name">
				<anchored>
					<left>
						<anchor>left</anchor>
						<offset>0</offset>
					</left>
					<top>
						<anchor>top</anchor>
						<offset>0</offset>
					</top>
					<size>
						<width>160</width>
					</size>
				</anchored>
				<tabtarget>
					<prev>matrixDT</prev>
					<next>spellname</next>
				</tabtarget>
				<font>sheettextsmall</font>
				<script>
					function onLoseFocus()
						super.onLoseFocus();
						window.windowlist.applySort();
					end
					function onDoubleClick()
						win = Interface.openWindow("matrixfull",window.getDatabaseNode());
					end
				</script>
			</textlistitemvalue>
			
			<numberfield name="rank">
				<anchored>
					<left>
						<anchor>left</anchor>
						<offset>170</offset>
					</left>
					<top>
						<anchor>top</anchor>
						<offset>-1</offset>
					</top>
					<size>
						<width>20</width>
					</size>
				</anchored>
				<frame>
					<name>modifier</name>
					<offset>3,3,3,3</offset>
				</frame>
				<keyeditframe>
					<name>sheetfocus</name>
					<offset>3,3,3,3</offset>
				</keyeditframe>
				<tabtarget>
					<next>talent</next>
					<prev>name</prev>
				</tabtarget>
				<font>sheetnumber</font>
				<script>
					function onWheel()
						return false;
					end
				</script>
				<readonly />
			</numberfield>

			<textlistitemvalue name="spellname">
				<anchored>
					<left>
						<anchor>left</anchor>
						<offset>200</offset>
					</left>
					<top>
						<anchor>top</anchor>
						<offset>0</offset>
					</top>
					<size>
						<width>120</width>
					</size>
				</anchored>
				<tabtarget>
					<prev>name</prev>
					<next>matrixDT</next>
				</tabtarget>
				<font>sheettextsmall</font>
			</textlistitemvalue>
			<textlistitemnumber name="matrixDT">
				<anchored>
					<left>
						<anchor>left</anchor>
						<offset>330</offset>
					</left>
					<top>
						<anchor>top</anchor>
						<offset>0</offset>
					</top>
					<size>
						<width>15</width>
					</size>
				</anchored>
				<tabtarget>
					<next>name</next>
					<prev>spellname</prev>
				</tabtarget>
				<font>sheettextsmall</font>
				<tooltip><text>Matrix Damage Taken</text></tooltip>
			</textlistitemnumber>
			<textlistitemnumber name="matrixDR">
				<anchored>
					<left>
						<anchor>left</anchor>
						<offset>350</offset>
					</left>
					<top>
						<anchor>top</anchor>
						<offset>0</offset>
					</top>
					<size>
						<width>15</width>
					</size>
				</anchored>
				<tabtarget>
					<next>name</next>
					<prev>talent</prev>
				</tabtarget>
				<font>sheettextsmall</font>
				<tooltip><text>Matrix Damage Rating</text></tooltip>
				<readonly />
			</textlistitemnumber>
			<textlistitemnumber name="matrixMA">
				<anchored>
					<left>
						<anchor>left</anchor>
						<offset>370</offset>
					</left>
					<top>
						<anchor>top</anchor>
						<offset>0</offset>
					</top>
					<size>
						<width>15</width>
					</size>
				</anchored>
				<tabtarget>
					<next>name</next>
					<prev>talent</prev>
				</tabtarget>
				<font>sheettextsmall</font>
				<tooltip><text>Matrix Mystic Armor</text></tooltip>
				<readonly />
			</textlistitemnumber>
			<buttoncontrol name="fullmatrix">
				<anchored>
					<left>
						<anchor>left</anchor>
						<offset>398</offset>
					</left>
					<top>
						<anchor>top</anchor>
						<offset>0</offset>
					</top>
					<size>
						<width>20</width>
						<height>20</height>
					</size>
				</anchored>
				<icon>
					<normal>indicator_zoom</normal>
					<hover>indicator_casterprep</hover>
					<pressed>indicator_zoom</pressed>
				</icon> 	
				<script>
					function onButtonPress()
						win = Interface.openWindow("matrixfull",window.getDatabaseNode());
					end
					function onHover(state)
						if state then
							window.setFrame("rowshade");
						else
							window.setFrame(nil);
						end
					end
				</script>
			</buttoncontrol>
			<windowreferencefield name="matrix_notes_shortcut">
				<anchored>
					<right>
						<anchor>left</anchor>
						<offset>445</offset>
					</right>
					<top>
						<anchor>top</anchor>
						<offset>0</offset>
					</top>
					<size>
						<width>20</width>
						<height>20</height>
					</size>
				</anchored>
				<icon>
					<normal>button_openwindow</normal>
					<empty>button_emptytarget</empty>
					<pressed>button_emptytarget</pressed>
				</icon>
				<allowdrop />
			</windowreferencefield>

		</sheetdata>
	</windowclass><!--}}}-->

</root>
