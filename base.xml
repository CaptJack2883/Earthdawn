<?xml version="1.0" encoding="iso-8859-1"?>

<!-- TODO List

printstack()

CRITICALLY IMPORTANT

FG Dark theme removes iedit buttons on client?

TODO: In Progress: Fix layout of main charsheet tab. Use correct label templates (<label> and <label_frametop> but not <label_column>)
TODO: Possibly add Circle/Novice/Journeyman to skills/talents view.
TODO: Add Karma Use to rolls. Talents, and based on a checkbox in/near modifier box?
TODO: Get Combat Tracker working. In progress, Initiative Rolls, Defenses, Health, and Current Wounds are working so far. (Need to add Attacks, etc)
TODO: Add Racial Stats to Race records, so they can be added to character sheet by dragging. (Create New Tab?)
TODO: Get Races reference to match definitions in book.
TODO: Get Disciplines reference to match definitions in book.
TODO: In Progress: Allow Drag/Drop Character Creation. Race/Discipline/Talents/Skills are now working.
TODO: Add Combat/Actions/Spells/Thread Items Tab(s) to charsheet.
TODO: Get rolls to check for targets, and their Defenses. 
TODO: Create "Roll Step #" widget, (similar to the Mod window or the Dice Tower) that allows you to enter a step number and roll it.
TODO: Add Custom Ability Modifier Fields to NPC and Charsheet, to allow custom bonuses/flaws. (Other computations, such as Race, Attribute Points, Half-Magic, etc.)
TODO: Fix layout of main charsheet tab. Use correct label templates (not label_column?)
TODO: In Progress: Get CT Menu working (rest, etc.) Menu is working, any new nodes to add?
TODO: Add tracker for current number of recovery tests?
TODO: Add support for new lighting features. Default visions work without modification. Possibly need to add new visions?
TODO: Update Talents/Skills to use dropdown for actions? Number instead of string for Strain?
TODO: Fix NPCs so that manually entered numbers don't get overwritten by onUpdate(); (Add "Custom?" checkbox?)
TODO: Find out why Exploding Dice aren't reporting correct total in FGU. They now show correct total, but not individual rolls... (caused by v.value resetting to v.max)


CONTENT

DONE: Add Base Races - Finished, including links to racial abilities.
DONE: Add Base Talents - Finished.
DONE: Add Base Disciplines - Finished, including links to Talents.
DONE: Add Base Skills - Finished.
TODO: Add NPCs/Monsters from Gamemaster's Guide. Not Started. (less important?)
TODO: Add Base Spells - In Progress: Sent Kayla spell data, will receive formatted XML file.


QUALITY OF LIFE

TODO: Update Exploding dice to actually throwDice. This is probably very complicated? Even with new pushRoll and Comm.throwDice.
TODO: Figure out LibraryDataED4 (data_library_ED4.lua) I think this is related to exporting races,disciplines, etc.
TODO: Allow spells to be displayed by class, level, etc. (Data Library, aPlayerListButtons, aGMListButtons)
TODO: Maybe we need a getStepFromDice function in Step_Action_Lookup? (reverse of getStepDice)
TODO: Fix pronouns to use they/them instead of he/him or she/her. (talent descriptions, etc)
TODO: Do I need a legend worksheet?


FINISHED

DONE: Updated Total Damage script to include Current, Stun, and BloodMagic.
DONE: Fixed Spell Descriptions to include Area of Effect.
DONE: Fixed additional parent info for Talent/Skill rolls.
DONE: Added Description info for Stats onDragStart
DONE: Fixed Talent/Skill onUpdate to make sure the shortcut exists before overwriting the name.
DONE: Fixed languages on FGU. I think.
DONE: Added new action types for Attack, Damage, Heal
DONE: Updated Talents/Skills tabs on char sheet to show rank/step.
DONE: Added defenses to CT.
DONE: Color Dice results when they explode! Or hit the "Rule of One"!
DONE: Added language font files for main languages.
DONE: Added system specific effects.
DONE: Updated GameSystem to show Grid Distance of 2. This means each hex/square is 2 yd.
DONE: Got Spells reference to match definitions in book. Also added traits and ct effects fields for automation.
DONE: Added max carry capacity functionality.
DONE: Updated Skills and Talents descriptions to include dropdowns for action/cost/skilluse.
DONE: Finished importing Talents and Skills.
DONE: Finished updating Races and Disciplines with linked abilities.
DONE: Added Blood Magic and Stun damage fields.
DONE: Added Racial Abilities reference, similar to Talents/Skills to allow Drag/Drop to Races reference and Charsheet.
DONE: Got Talents reference to match definitions in book.
DONE: Got Skills reference to match definitions in book.
DONE: Fixed karmaStep inside char_main.xml to be a number field, so that we can update it.
DONE: Update MaxKarma on resting. 
DONE: Updated Reference Sheets (Races, Talents, etc) to not use separate script files.
DONE: Added detection of 'Step #' rolls in NPC skills.
DONE: Fixed adding multiples of nMod. (Steps 1 and 2 only subtract their penalty once, despite explosions.)
DONE: Fixed ModifierStack to reset upon adding to step number. This prevents adding static numbers to rolls in addition to increasing step #.
DONE: Updated roll descriptions to include modified step numbers. 
DONE: Verified custom templates, renamed some to add ED4. (template_ED4, ActionManagerED4, CombatManagerED4)
DONE: Fixed overridden files to not include non-overridden content. (templates, etc)
DONE: Added 'Senses' field for Charsheet.
DONE: Make all Character Sheet Main tab rolls work, including doubleclicks.
DONE: Allow doubleclick to open map where character token is currently located.
DONE: Don't allow negative Damage/Wound values for Chars/NPCs/CT.
DONE: Don't allow negative Karma values for Chars.
DONE: Fixed Karma rolls to properly deduct only on valid rolls.
DONE: Automagically heal characters based on Recovery Rolls.
DONE: Fixed Tab Order in CT.
DONE: Make HP boxes (current damage) allow add/drop for Charsheet and NPCs. (plus CT)
DONE: Fixed CT Menu for Resting.
DONE: Fixed CharacterManager.recoveryTest function.
DONE: Created ActionManagerED4.pushRoll to make rolls without draginfo.
DONE: Renamed ActionManagerED4.performRoll to ActionManagerED4.dragRoll
DONE: Initiative Menu in CT now works for all types. NPCs must have their window opened before rolling initiative.
DONE: Fix rSource on NPC rolls.
DONE: FINALLY! Fixed "Script Error: [string "scripts/manager_image.lua"]:208: attempt to call field 'getDatabaseNode' (a nil value)"
DONE: Reorganized the scripts files.
DONE: Figure out how to get rSource from draginfo. SERIOUSLY!! ActionManager.decodeActors(draginfo)
DONE: Add Current Damage and Wounds Fields to NPC records.
DONE: Link NPC fields in CT to matching fields in NPC records.
DONE: Fix recursive call from Charsheet Main "Stat_Step" fields.
DONE: Update NPC Statistics to reflect stats automatically (Unconcious, Death, etc..)
DONE: Optimize getStepDice to be formulaic.
DONE: Remove Dice elements under Attributes, as they are no longer needed.
DONE: Update NPC records to reflect stat blocks of monsters.
DONE: Update numberColumn to show rollable property.
DONE: All dice are exploding properly.
DONE: AutoUpdate Attribute Step Values and Dice. (window.onUpdate();)
DONE: Fixed Datasource of Skills.
DONE: 'locked' state actually locking the window for Races, Disciplines, Talents, Skills, Spells.
DONE: Add OnUpdate to Lock button so that it locks instantly instead of after reload.
DONE: Make all appropriate fields update based on attributes. (Characteristics Table)
DONE: Create Step Table, ensure it matches with ED4.
DONE: Make sure that steps 1 and 2 have the correct modifiers (1d4-2 and 1d4-1)
DONE: Allow modifier box to increase the step number before rolling.
DONE: Include ED4 logo for decal options.
DONE: Add Legend Points(XP) to Party Sheet.
FIXED: Spelling of Obsidimen vs Obsidiman in race descriptions. (Obsidiman is singular, Obsidimen is plural.)

Unused Files:
	<includefile source="ct/template_ct.xml" />
  <script name="CombatManager" file="scripts/manager_combat.lua" />
-->

<!-- This logo is for the ruleset selection screen. -->
<root version="3.0" release="1" logo="logo.png">
  <announcement text="Earthdawn ruleset v4.5 for Fantasy Grounds" font="emotefont" icon="earthdawn_logo" />
  <description>
    <text>Earthdawn 4.5</text>
    <author>CaptJack2883</author>
  </description>
  
  <!-- Base -->
  <importruleset source="CoreRPG" />
  <includefile source="gameelements.xml" />
    
  <!-- Graphics -->
  <includefile source="graphics/graphics_icons.xml" />
  <includefile source="graphics/graphics_tabs.xml" />
  <includefile source="graphics/graphics_frames.xml" />
  <includefile source="graphics/graphics_decals.xml" />
  <includefile source="graphics/graphics_fonts_ED4.xml" />
  
  <!-- Window Classes -->
  <includefile source="ref/ref_races.xml" />
  <includefile source="ref/ref_racials.xml" />
  <includefile source="ref/ref_disciplines.xml" />
  <includefile source="ref/ref_talents.xml" />
  <includefile source="ref/ref_skills.xml" />
  <includefile source="ref/ref_spells.xml" />
  
  <!-- Window Classes -->
  <includefile source="campaign/record_npc.xml" />
  
  <!-- Character Sheet (originally borrowed and then updated.) -->
  <includefile source="campaign/charsheet.xml" />
  	
	<!-- Combat tracker -->
	<includefile source="ct/ct_host.xml" />
	<includefile source="ct/ct_client.xml" />
	<includefile source="ct/template_ct.xml" />
  
  <!-- Strings (for localization) -->
  <includefile source="strings/strings_ED4.xml" />
  
  <!-- Scripts -->
  <script name="Global" file="scripts/global.lua" />
  <script name="LibraryDataED4" file="scripts/data_library_ED4.lua" />
  <script name="StepLookup" file="scripts/step_action_lookup.lua" />
  <script name="ActionManagerED4" file="scripts/manager_actions_ED4.lua" />
  <script name="ActionsManager" file="scripts/manager_actions.lua" />
  <script name="CharacterManager" file="scripts/manager_character.lua" />
  <script name="CombatManagerED4" file="scripts/manager_combat_ED4.lua" />
	<script name="GameSystem" file="scripts/manager_gamesystem.lua" />  
  
  <!-- Templates -->
  <includefile source="common/template_ED4.xml" />
  
</root>